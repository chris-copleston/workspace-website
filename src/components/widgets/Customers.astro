---
import { Image } from 'astro:assets';

// Import all customer logos
import qualicorpLogo from '~/assets/images/customers/qualicorp.png';
import logicalisLogo from '~/assets/images/customers/logicalis.png';
import icatuLogo from '~/assets/images/customers/icatu.png';
import perfettiLogo from '~/assets/images/customers/perfetti.png';
import eloparLogo from '~/assets/images/customers/elopar.png';
import georgeBrownLogo from '~/assets/images/customers/george-brown.png';
import sivaleLogo from '~/assets/images/customers/sivale.png';

const customers = [
  { name: 'Elopar', logo: eloparLogo },
  { name: 'George Brown', logo: georgeBrownLogo },
  { name: 'Sivale', logo: sivaleLogo },
  { name: 'Icatu', logo: icatuLogo },
  { name: 'Perfetti', logo: perfettiLogo },
  { name: 'Qualicorp', logo: qualicorpLogo },
  { name: 'Logicalis', logo: logicalisLogo },
];

interface Props {
  title?: string;
  subtitle?: string;
}

const {
  title = 'Our Customers',
  subtitle = 'Trusted by leading companies worldwide',
} = Astro.props;
---

<section class="py-16 sm:py-20 bg-blue-50 dark:bg-transparent">
  <div class="mx-auto max-w-7xl px-4 sm:px-6">
    <div class="text-center">
      {title && <h2 class="font-bold leading-tighter tracking-tighter font-heading text-heading text-3xl lg:text-4xl">{title}</h2>}
      {subtitle && <p class="mt-4 text-lg text-gray-600">{subtitle}</p>}
    </div>
    <div class="mt-12 masonry-container">
      {
        customers.map((customer) => (
          <div class="masonry-item bg-white rounded-md">
            <Image
              src={customer.logo}
              alt={`${customer.name} logo`}
              class="w-auto h-10 mx-auto object-contain"
              loading="lazy"
            />
          </div>
        ))
      }
    </div>
  </div>
</section>

<style>
  .masonry-container {
    columns: 2 150px;
    column-gap: 1.5rem;
  }

  @media (min-width: 640px) {
    .masonry-container {
      columns: 3 150px;
    }
  }

  @media (min-width: 1024px) {
    .masonry-container {
      columns: 4 150px;
    }
  }

  .masonry-item {
    break-inside: avoid;
    margin-bottom: 1rem;
    padding: 0.75rem;
    transition: transform 0.2s ease-in-out;
  }

  .masonry-item:hover {
    transform: translateY(-2px);
  }
</style>
